<project name="haXe XPath" basedir="." default="all">
	
	<target name="all" depends="doc,haxelib"/>

	<target name="doc">
		<mkdir dir="build/doc"/>
		<exec executable="haxe" failonerror="true">
			<arg file="util/build-doc.hxml"/>
		</exec>
		<exec executable="haxedoc" dir="doc" failonerror="true">
			<arg value="../build/doc/doc.xml"/>
			<arg value="-f"/><arg value="xpath"/>
		</exec>
		<zip basedir="doc" destfile="haxe-xpath-doc.zip"/>
	</target>
	
	<target name="haxelib">
		<delete dir="build/haxelib/xpath"/>
		<mkdir dir="build/haxelib/xpath"/>
		<copy todir="build/haxelib/xpath">
			<fileset dir="src">
				<include name="xpath/**/*"/>
			</fileset>
		</copy>
		<copy file="haxelib.xml" tofile="build/haxelib/xpath/haxelib.xml"/>
		<copy file="README.txt" tofile="build/haxelib/xpath/README.txt"/>
                <copy file="LICENCE.txt" tofile="build/haxelib/xpath/LICENCE.txt"/>
                <copy file="AUTHORS.txt" tofile="build/haxelib/xpath/AUTHORS.txt"/>
		<zip basedir="build/haxelib/xpath" destfile="xpath.zip"/>
	</target>
	
</project>
