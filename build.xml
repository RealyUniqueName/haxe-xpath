<project name="Haxe XPath" basedir="." default="all">
	
	<target name="all" depends="doc,Haxelib"/>

	<target name="doc">
		<mkdir dir="build/doc"/>
		<exec executable="Haxe" failonerror="true">
			<arg file="util/build-doc.hxml"/>
		</exec>
		<exec executable="Haxedoc" dir="doc" failonerror="true">
			<arg value="../build/doc/doc.xml"/>
			<arg value="-f"/><arg value="xpath"/>
		</exec>
		<zip basedir="doc" destfile="Haxe-xpath-doc.zip"/>
	</target>
	
	<target name="Haxelib">
		<delete dir="build/Haxelib/xpath"/>
		<mkdir dir="build/Haxelib/xpath"/>
		<copy todir="build/Haxelib/xpath">
			<fileset dir="src">
				<include name="xpath/**/*"/>
			</fileset>
		</copy>
		<copy file="Haxelib.xml" tofile="build/Haxelib/xpath/Haxelib.xml"/>
		<copy file="README.txt" tofile="build/Haxelib/xpath/README.txt"/>
                <copy file="LICENCE.txt" tofile="build/Haxelib/xpath/LICENCE.txt"/>
                <copy file="AUTHORS.txt" tofile="build/Haxelib/xpath/AUTHORS.txt"/>
		<zip basedir="build/Haxelib/xpath" destfile="xpath.zip"/>
	</target>
	
</project>
